<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Type2 Master Station</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Plus+Jakarta+Sans:wght@400;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="bg-orb orb-1"></div>
  <div class="bg-orb orb-2"></div>
  <div class="bg-grid"></div>

  <div class="app-shell">
    <aside class="sidebar">
      <div class="brand">
        <p class="kicker">TYPE2FUTURE</p>
        <h1>Master Station</h1>
        <p class="sub">A pro operating system to grow impact on X.</p>
      </div>

      <div class="goal-card card">
        <h2>Goal Tracker</h2>
        <label for="currentFollowers">Current followers</label>
        <input id="currentFollowers" type="number" min="0" value="291" />
        <label for="targetFollowers">Target followers</label>
        <input id="targetFollowers" type="number" min="1" value="10000" />
        <label for="targetDate">Target date (optional)</label>
        <input id="targetDate" type="date" />
        <button class="btn" id="recalcGoal">Recalculate</button>
        <div class="goal-stats mono">
          <div><span>Days at current pace:</span> <strong id="daysToTarget">-</strong></div>
          <div><span>Needed follows/day:</span> <strong id="neededPerDay">-</strong></div>
        </div>
      </div>

      <nav class="nav card">
        <button class="nav-btn active" data-view="dashboard">Dashboard</button>
        <button class="nav-btn" data-view="strategy">Strategy</button>
        <button class="nav-btn" data-view="content">Content Lab</button>
        <button class="nav-btn" data-view="analytics">Analytics</button>
        <button class="nav-btn" data-view="calendar">Weekly Plan</button>
        <button class="nav-btn" data-view="ai">AI Studio</button>
        <button class="nav-btn" data-view="experiments">Experiments</button>
      </nav>

      <div class="card beginner-box">
        <h2>Beginner Mode</h2>
        <label class="toggle">
          <input id="beginnerMode" type="checkbox" checked />
          <span>Show guided tips and plain-language instructions</span>
        </label>
        <p id="beginnerHint" class="tiny">Tip: Start in Dashboard and complete the Daily Sprint in order.</p>
      </div>
    </aside>

    <main class="main">
      <header class="topbar card">
        <div>
          <p class="kicker">Impact Command</p>
          <h2 id="todayTitle">Today</h2>
          <p id="todaySubtitle">Build high-signal content. Convert attention into followers.</p>
        </div>
        <div class="status-stack">
          <div class="status-pill" id="paceStatus">Pace: waiting for analytics</div>
          <div class="status-pill muted" id="focusStatus">Focus: Conversion + authority</div>
        </div>
      </header>

      <section class="view active" id="view-dashboard">
        <div class="grid-3">
          <article class="metric card">
            <h3>Impressions / day (28d)</h3>
            <p class="metric-value mono" id="mImpPerDay">-</p>
            <p class="metric-delta" id="dImpPerDay">Upload analytics CSV</p>
          </article>
          <article class="metric card">
            <h3>Engagement rate (28d)</h3>
            <p class="metric-value mono" id="mEngRate">-</p>
            <p class="metric-delta" id="dEngRate">-</p>
          </article>
          <article class="metric card">
            <h3>Follows / 1k impressions</h3>
            <p class="metric-value mono" id="mFollow1k">-</p>
            <p class="metric-delta" id="dFollow1k">-</p>
          </article>
        </div>

        <div class="grid-2">
          <article class="card">
            <h3>Daily Sprint</h3>
            <div class="checklist" id="dailyChecklist"></div>
            <div class="progress-wrap">
              <div class="progress-bar"><span id="dailyProgressFill"></span></div>
              <p id="dailyProgressText" class="tiny">0/0 complete</p>
            </div>
          </article>

          <article class="card">
            <h3>Next Best Actions</h3>
            <div id="nextActions" class="stack"></div>
            <button class="btn secondary" id="generatePlan">Generate Today's Plan</button>
            <textarea id="todayPlan" rows="9" placeholder="Your generated execution plan appears here..."></textarea>
          </article>
        </div>
      </section>

      <section class="view" id="view-strategy">
        <div class="grid-2">
          <article class="card">
            <h3>Identity Core</h3>
            <label for="northStar">Mission</label>
            <textarea id="northStar" rows="4">Influence the world toward techno-optimism, abundance, and Kardashev-scale thinking through high-signal daily content on X.</textarea>
            <label for="audience">Audience</label>
            <textarea id="audience" rows="4">Builders, founders, researchers, AI + energy + space optimists, and curious high-agency people.</textarea>
            <label for="positioning">Positioning</label>
            <textarea id="positioning" rows="4">I translate frontier signals into clear narratives and practical implications for a Type 2 civilization.</textarea>
            <label for="skillPack">Skill / Knowledge Pack</label>
            <textarea id="skillPack" rows="6">- Prioritize high-signal long-form posts.
- Use source signal + interpretation + implication.
- Optimize for follows per 1k impressions.
- Voice: bold, precise, abundance-first.
- Avoid vague hype.</textarea>
            <button class="btn" id="saveIdentity">Save Strategy Core</button>
          </article>

          <article class="card">
            <h3>Content Architecture</h3>
            <label for="pillar1">Pillar 1</label>
            <input id="pillar1" type="text" value="AI capability + agency" />
            <label for="pillar2">Pillar 2</label>
            <input id="pillar2" type="text" value="Energy abundance + Kardashev" />
            <label for="pillar3">Pillar 3</label>
            <input id="pillar3" type="text" value="Civilization design + incentives" />
            <label for="pillar4">Pillar 4</label>
            <input id="pillar4" type="text" value="Practical builder playbooks" />

            <h4>Recommended weekly mix</h4>
            <ul class="flat-list">
              <li>4 flagship insight posts (long, concrete, distinct)</li>
              <li>2 question-led posts (high-signal discussion prompts)</li>
              <li>1 synthesis thread (weekly map of major signals)</li>
              <li>Daily strategic replies (quality over volume)</li>
            </ul>

            <h4>Do / Don't</h4>
            <textarea id="rules" rows="6">DO: strong claims, clear implications, practical angle, thought-provoking close.
DON'T: generic one-liners, contextless hype, reactive spam replies.</textarea>
          </article>
        </div>
      </section>

      <section class="view" id="view-content">
        <div class="grid-2">
          <article class="card">
            <h3>Signal-to-Post Builder</h3>
            <label for="postObjective">Post objective</label>
            <select id="postObjective">
              <option value="follow">Get follows</option>
              <option value="discussion">Drive discussion</option>
              <option value="authority">Build authority</option>
              <option value="share">Increase shares/reposts</option>
            </select>

            <label for="hookStyle">Hook style</label>
            <select id="hookStyle">
              <option value="thesis">Strong thesis</option>
              <option value="contrarian">Contrarian</option>
              <option value="prediction">Prediction</option>
              <option value="question">Question-led</option>
            </select>

            <label for="signalInput">Source signal</label>
            <textarea id="signalInput" rows="3" placeholder="Example: Demis says X, data point Y, event Z"></textarea>
            <label for="insightInput">Your interpretation</label>
            <textarea id="insightInput" rows="3" placeholder="What does this change? Why now?"></textarea>
            <label for="actionInput">Close / CTA</label>
            <textarea id="actionInput" rows="2" placeholder="Ask a sharp question or challenge"></textarea>

            <div class="btn-row">
              <button class="btn secondary" id="genHook">Generate Hook</button>
              <button class="btn" id="buildDraft">Build Draft</button>
            </div>

            <label for="hookOutput">Hook output</label>
            <textarea id="hookOutput" rows="3"></textarea>
          </article>

          <article class="card">
            <h3>Draft + Quality Engine</h3>
            <textarea id="postDraft" rows="11" placeholder="Draft appears here..."></textarea>
            <div class="btn-row">
              <button class="btn secondary" id="scoreDraft">Score Draft</button>
              <button class="btn secondary" id="copyDraft">Copy Draft</button>
            </div>
            <div class="score-shell">
              <p class="mono score" id="draftScore">Score: -</p>
              <div class="progress-bar"><span id="scoreFill"></span></div>
            </div>
            <div id="scoreFeedback" class="stack"></div>
          </article>
        </div>
      </section>

      <section class="view" id="view-analytics">
        <div class="grid-2">
          <article class="card">
            <h3>Analytics Intake</h3>
            <div class="btn-row">
              <input type="file" id="csvFile" accept=".csv" />
              <button class="btn secondary" id="demoCsv">Use Demo</button>
            </div>
            <p class="tiny">Upload X account overview analytics CSV.</p>
            <div class="insight" id="analyticsSummary">No analytics loaded yet.</div>
          </article>

          <article class="card">
            <h3>Growth Diagnostics</h3>
            <div id="diagnostics" class="stack"></div>
          </article>
        </div>

        <article class="card">
          <h3>Top Days (from uploaded data)</h3>
          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Impressions</th>
                  <th>Engagements</th>
                  <th>New follows</th>
                  <th>Profile visits</th>
                </tr>
              </thead>
              <tbody id="topDaysBody">
                <tr><td colspan="5" class="empty">Upload analytics to populate.</td></tr>
              </tbody>
            </table>
          </div>
        </article>
      </section>

      <section class="view" id="view-calendar">
        <article class="card">
          <h3>Weekly Content Planner</h3>
          <p class="tiny">Use this like a control tower. Plan each slot with purpose.</p>
          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>Day</th>
                  <th>Morning Slot</th>
                  <th>Midday Slot</th>
                  <th>Evening Slot</th>
                </tr>
              </thead>
              <tbody id="weekPlanBody"></tbody>
            </table>
          </div>
          <button class="btn" id="saveWeekPlan">Save Weekly Plan</button>
        </article>
      </section>

      <section class="view" id="view-ai">
        <div class="grid-2">
          <article class="card">
            <h3>Agent Controls</h3>
            <label for="apiKey">OpenAI API key (local browser storage)</label>
            <input id="apiKey" type="password" placeholder="sk-..." />
            <label for="modelName">Model</label>
            <input id="modelName" type="text" value="gpt-4.1-mini" />
            <label for="agentMode">Mode</label>
            <select id="agentMode">
              <option value="planner">Daily planner</option>
              <option value="ideate">Idea generator</option>
              <option value="draft">Draft writer</option>
              <option value="critique">Draft critic</option>
              <option value="repurpose">Repurpose variants</option>
            </select>
            <label for="agentInput">Input</label>
            <textarea id="agentInput" rows="8" placeholder="Topic, constraints, or draft"></textarea>
            <button class="btn" id="runAgent">Run Agent</button>
          </article>

          <article class="card">
            <h3>Agent Output</h3>
            <textarea id="agentOutput" rows="20" placeholder="AI output appears here..."></textarea>
          </article>
        </div>
      </section>

      <section class="view" id="view-experiments">
        <article class="card">
          <h3>Experiment Log</h3>
          <div class="grid-3 compact">
            <input id="expHypothesis" type="text" placeholder="Hypothesis" />
            <input id="expMetric" type="text" placeholder="Metric" />
            <select id="expOutcome">
              <option>Win</option>
              <option>Neutral</option>
              <option>Lose</option>
            </select>
          </div>
          <input id="expResult" type="text" placeholder="Result summary" />
          <button class="btn secondary" id="addExperiment">Add Experiment</button>
          <div id="experimentList" class="stack"></div>
        </article>
      </section>
    </main>
  </div>

  <script src="./app.js"></script>
</body>
</html>
