<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Type2 Content OS</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="topbar">
    <div>
      <p class="kicker">TYPE2FUTURE</p>
      <h1>Content Growth OS</h1>
      <p class="sub">Minimal daily system: analyze, create, study winners, review results.</p>
    </div>
  </header>

  <nav class="tabs" id="tabs">
    <button class="tab active" data-target="today">Today</button>
    <button class="tab" data-target="create">Create</button>
    <button class="tab" data-target="intel">Learn</button>
    <button class="tab" data-target="review">Review</button>
  </nav>

  <main class="container">
    <section class="panel active" id="today">
      <h2>Today</h2>

      <div class="row">
        <input type="file" id="csvFile" accept=".csv" />
        <button class="btn alt" id="demoCsv">Use Demo</button>
      </div>

      <div class="metrics">
        <article>
          <h3>Impressions/day</h3>
          <p id="mImp">-</p>
        </article>
        <article>
          <h3>Engagement rate</h3>
          <p id="mEr">-</p>
        </article>
        <article>
          <h3>Follows/1k impressions</h3>
          <p id="mF1k">-</p>
        </article>
      </div>

      <div id="diagnostics" class="stack"></div>

      <h3>Daily Sprint</h3>
      <div class="checklist" id="dailyChecklist"></div>
      <div class="progress"><span id="dailyProgress"></span></div>
      <p class="tiny" id="dailyProgressText">0/0 complete</p>

      <h3>Next Best Actions</h3>
      <div id="nextActions" class="stack"></div>
    </section>

    <section class="panel" id="create">
      <h2>Create</h2>

      <label for="shiftObjective">Shift objective</label>
      <input id="shiftObjective" type="text" placeholder="Example: improve follows/1k this week" />

      <label for="voiceRules">Voice rules</label>
      <textarea id="voiceRules" rows="3">Ambitious, precise, positive, abundance-first. No generic hype. Always include concrete implication.</textarea>

      <div class="grid2">
        <div>
          <label for="postObjective">Post objective</label>
          <select id="postObjective">
            <option value="follow">Get follows</option>
            <option value="authority">Build authority</option>
            <option value="discussion">Drive discussion</option>
          </select>
        </div>
        <div>
          <label for="hookStyle">Hook style</label>
          <select id="hookStyle">
            <option value="thesis">Strong thesis</option>
            <option value="contrarian">Contrarian</option>
            <option value="prediction">Prediction</option>
            <option value="question">Question-led</option>
          </select>
        </div>
      </div>

      <label for="sourceAccount">Reference account (optional)</label>
      <select id="sourceAccount"></select>

      <label for="signalInput">Source signal</label>
      <textarea id="signalInput" rows="3" placeholder="Who said what, where, and why it matters"></textarea>

      <label for="insightInput">Your interpretation</label>
      <textarea id="insightInput" rows="3" placeholder="What is the key implication for Type2Future audience?"></textarea>

      <label for="closeInput">Close / CTA</label>
      <textarea id="closeInput" rows="2" placeholder="Question or action that helps conversion"></textarea>

      <div class="row">
        <button class="btn alt" id="genHook">Generate Hook</button>
        <button class="btn" id="buildDraft">Build Draft</button>
      </div>

      <label for="hookOutput">Hook</label>
      <textarea id="hookOutput" rows="2"></textarea>

      <label for="postDraft">Draft</label>
      <textarea id="postDraft" rows="10"></textarea>

      <div class="row">
        <button class="btn alt" id="scoreDraft">Score Draft</button>
        <button class="btn alt" id="copyDraft">Copy Draft</button>
      </div>

      <p class="mono" id="draftScore">Score: -</p>
      <div class="progress"><span id="scoreBar"></span></div>
      <div id="scoreFeedback" class="stack"></div>

      <h3>AI Assist (optional)</h3>
      <label for="apiKey">OpenAI API key</label>
      <input id="apiKey" type="password" placeholder="sk-..." />
      <div class="row">
        <select id="aiMode">
          <option value="improve">Improve draft</option>
          <option value="ideas">Generate 10 ideas</option>
          <option value="replies">Generate 10 strategic replies</option>
        </select>
        <button class="btn" id="runAi">Run AI</button>
      </div>
      <textarea id="aiOutput" rows="10" placeholder="AI output"></textarea>
    </section>

    <section class="panel" id="intel">
      <h2>Learn From Winners</h2>
      <p class="sub">Closest accounts to your style and mission. Study structure, clarity, and conversion patterns.</p>

      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Account</th>
              <th>Why it matters</th>
              <th>What to learn</th>
            </tr>
          </thead>
          <tbody id="benchmarkBody"></tbody>
        </table>
      </div>

      <h3>Daily Study Sprint</h3>
      <button class="btn alt" id="assignStudy">Assign 3 Accounts for Today</button>
      <div id="studyOutput" class="stack"></div>

      <label for="intelNotes">What is working today?</label>
      <textarea id="intelNotes" rows="8" placeholder="Write specific tactics you want to apply immediately."></textarea>
      <button class="btn" id="saveIntelNotes">Save Notes</button>
    </section>

    <section class="panel" id="review">
      <h2>Review Results</h2>
      <p class="sub">Log each important post. The app identifies winning patterns.</p>

      <div class="grid2">
        <input id="logDate" type="date" />
        <select id="logFormat">
          <option value="flagship">Flagship insight</option>
          <option value="clip">Clip + interpretation</option>
          <option value="question">Question-led</option>
          <option value="thread">Thread</option>
          <option value="quote">Quote post</option>
          <option value="reply">Reply-led</option>
        </select>
      </div>

      <div class="grid2">
        <select id="logPillar">
          <option value="AI capability + agency">AI capability + agency</option>
          <option value="Energy abundance + Kardashev">Energy abundance + Kardashev</option>
          <option value="Civilization design + incentives">Civilization design + incentives</option>
          <option value="Practical builder playbooks">Practical builder playbooks</option>
        </select>
        <select id="logSourceAccount"></select>
      </div>

      <div class="grid3">
        <input id="logImp" type="number" min="0" placeholder="Impressions" />
        <input id="logEng" type="number" min="0" placeholder="Engagements" />
        <input id="logFollows" type="number" min="0" placeholder="Follows" />
      </div>

      <div class="grid2">
        <input id="logPv" type="number" min="0" placeholder="Profile visits" />
        <input id="logNote" type="text" placeholder="Observation" />
      </div>

      <button class="btn" id="addPostLog">Add Post Log</button>

      <div id="reviewInsights" class="stack"></div>

      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Date</th>
              <th>Format</th>
              <th>Pillar</th>
              <th>F/1k</th>
              <th>ER%</th>
            </tr>
          </thead>
          <tbody id="postLogBody">
            <tr><td colspan="5" class="tiny">No logs yet.</td></tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>
